USE  auto_agent_evaluation;

CREATE TABLE USERS (
    USER_ID INT PRIMARY KEY AUTO_INCREMENT,
    FIRST_NAME VARCHAR(50) NOT NULL,
    LAST_NAME VARCHAR(80) NOT NULL,
    USER_EMAIL VARCHAR(255) NOT NULL UNIQUE,
    USER_PASSWORD VARCHAR(255) NOT NULL,
    COMPANY_NAME VARCHAR(255),
    COMPANY_DEPARTMENT VARCHAR(255),
    COMPANY_POSITION VARCHAR(255)
);

INSERT INTO USERS VALUES(0, 'Evan', 'Wells', 'edwells522@my.nipissigu.ca', 'password', NULL, NULL, NULL);

CREATE TABLE AGENTS (
    AGENT_ID INT NOT NULL,
    USER_ID INT NOT NULL,
    FIRST_NAME VARCHAR(50) NOT NULL,
    LAST_NAME VARCHAR(80) NOT NULL,
    PRIMARY KEY (AGENT_ID, USER_ID),
    FOREIGN KEY (USER_ID) REFERENCES users(USER_ID)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);

CREATE TABLE ROLES_PER_USER (
    ROLE_NAME VARCHAR(255) NOT NULL,
    USER_ID INT NOT NULL,
    ROLE_KEYWORD VARCHAR(255),
    PRIMARY KEY (ROLE_NAME, USER_ID),
    FOREIGN KEY (USER_ID) REFERENCES users(USER_ID)
        ON DELETE CASCADE
        ON UPDATE CASCADE
);